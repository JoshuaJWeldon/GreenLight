package greenlight;

import java.sql.*;

import javax.swing.*; 

import java.awt.*; 
import java.awt.event.ActionEvent;

public class Driver {
	
	public static final String DOCTOR = "Doctor";
	public static final String USER   = "User";
	public static final String VENUE  = "Venue";
	
	private DatabaseControler dbms;
	
	private JFrame frame;
	private JPanel panel;
	
	public Driver(){
		
		dbms  = new DatabaseControler();
		
		frame = new JFrame("Green Light"); 
		frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
		frame.setSize(300,450);  
		frame.setLocationRelativeTo(null);
		
		panel = new JPanel();
		frame.add(panel);
		
	}
	
	public static void main(String[] args) {
		
		Driver driver = new Driver();
	
		driver.createWelcomePanel();
		
		try{driver.dbms.testMethod();} 
		catch(ClassNotFoundException c){}
		catch(SQLException s){}
	
	}
	
	private void createVenuePanel() {
		// TODO Auto-generated method stub
		
	}

	private void createDoctorPanel() {
		
		frame.remove(panel);
		panel = new JPanel();

		JButton getID          = new JButton("Get ID");
		JButton setID          = new JButton("Set ID");
		JButton checkReg       = new JButton("Check Registration");
		JButton changeSettings = new JButton("Change Settings");

		panel.setPreferredSize (new Dimension (240, 390));
		panel.setLayout (null);
		
		
		getID.setBounds          (30,  15, 180, 50);
		setID.setBounds          (30, 115, 180, 50);
		checkReg.setBounds       (30, 215, 180, 50);
		changeSettings.setBounds (35, 315, 180, 50);
		
		panel.add(getID);
		panel.add(setID);
		panel.add(checkReg);
		panel.add(changeSettings);
		
		//TODO
//		button.addActionListener(new welcomeAction() { 
//			@Override public void actionPerformed(ActionEvent event) { 
//				frame.remove(welcomePanel);
//				welcomePanel.setVisible(false);  
//		
//					currPanel = doctorPanel;
//					doctorPanel.setVisible(true);
//					frame.add(doctorPanel);
//					frame.setSize(new Dimension(280,430));
//				
//		}); 
		
		panel.setVisible(true);
		frame.add(panel);		
	}

	private void createUserPanel() {
		
		frame.remove(panel);
		panel = new JPanel();

		JButton usrHealth          = new JButton("Health Data");
		JButton events          = new JButton("Local Events");
		JButton settings       = new JButton("Settings");

		panel.setPreferredSize (new Dimension (240, 390));
		panel.setLayout (null);
		
		
		usrHealth.setBounds          (30,  15, 180, 50);
		events.setBounds          (30, 115, 180, 50);
		settings.setBounds       (30, 215, 180, 50);
		
		panel.add(usrHealth);
		panel.add(events);
		panel.add(settings);
		
		//TODO
//		button.addActionListener(new welcomeAction() { 
//			@Override public void actionPerformed(ActionEvent event) { 
//				frame.remove(welcomePanel);
//				welcomePanel.setVisible(false);  
//		
//					currPanel = doctorPanel;
//					doctorPanel.setVisible(true);
//					frame.add(doctorPanel);
//					frame.setSize(new Dimension(280,430));
//				
//		}); 
		
		panel.setVisible(true);
		frame.add(panel);		
	
	}

	private void createWelcomePanel() {
			
		frame.remove(panel);
		panel        = new JPanel();
		
		String[]  userTypes = {DOCTOR, USER, VENUE};
		JLabel    label     = new JLabel("What kind of user are you: ");
		JComboBox comboBox  = new JComboBox(userTypes);  
		JButton   button      = new JButton( "Enter"); 
		
		panel.setPreferredSize (new Dimension (240, 390));
		panel.setLayout (null);
		
		button.setBounds(30, 275, 225, 65);
		
		panel.add(label); 
		panel.add(comboBox);  
		panel.add(button);
		
		button.addActionListener(new welcomeAction() { 
			@Override public void actionPerformed(ActionEvent event) {   
				
				switch ((String)comboBox.getSelectedItem()) {
				
				case DOCTOR:
					
					createDoctorPanel();
					break;
					
				case USER:
					
					createUserPanel();
					break;
					
				case VENUE:
	
					createVenuePanel();
					break;

				default:
					System.exit(-1);
					break;
				}
			}
		}); 
		

		
		panel.setVisible(true);
		frame.add(panel);
	}
	
}

		